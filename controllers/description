
2. Controller (ควบคุมการทำงานของแต่ละ route)

หน้าที่:

ดึงข้อมูลจาก req (params, body, query)
เรียกใช้ service เพื่อประมวลผล logic
จัดการ response กลับไปยัง client

สิ่งที่ควรส่ง:

ข้อมูลที่จำเป็นไปยัง service เช่น userId, body, query params
รับผลลัพธ์จาก service แล้วตอบกลับ (res.json(...))

ตัวอย่าง

// controllers/userController.js
import * as userService from '../services/userService.js';

export const getUser = async (req, res) => {
  const { id } = req.params;
  const user = await userService.getUserById(id);
  res.json(user);
};

export const createUser = async (req, res) => {
  const newUser = await userService.createUser(req.body);
  res.status(201).json(newUser);
};